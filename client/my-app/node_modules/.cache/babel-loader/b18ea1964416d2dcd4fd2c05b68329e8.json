{"ast":null,"code":"var _jsxFileName = \"D:\\\\web\\\\Pet_Memories\\\\client\\\\my-app\\\\src\\\\components\\\\PostDetails\\\\CommentSection.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useRef } from \"react\";\nimport { Typography, TextField, Button } from \"@mui/material\";\nimport { useDispatch } from \"react-redux\";\nimport { commentPost } from '../../actions/posts';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst CommentSection = _ref => {\n  _s();\n\n  var _user$result;\n\n  let {\n    post\n  } = _ref;\n  const user = JSON.parse(localStorage.getItem('profile'));\n  const dispatch = useDispatch();\n  const [comments, setComments] = useState(post === null || post === void 0 ? void 0 : post.comments);\n  const [comment, setComment] = useState('');\n  const commentsRef = useRef();\n\n  const handleClick = async () => {\n    const finalComment = `${user.result.name}: ${comment}`;\n    const newComments = await dispatch(commentPost(finalComment, post._id));\n    setComments(newComments);\n    setComment('');\n    commentsRef.current.scrollIntoView();\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          height: '200px',\n          overflowY: 'auto',\n          marginRight: '30px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          gutterBottom: true,\n          variant: 'h6',\n          children: \"comments\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 21\n        }, this), comments.map((comment, index) => /*#__PURE__*/_jsxDEV(Typography, {\n          gutterBottom: true,\n          variant: 'subtitle1',\n          children: comment\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 25\n        }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: commentsRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 17\n      }, this), (user === null || user === void 0 ? void 0 : (_user$result = user.result) === null || _user$result === void 0 ? void 0 : _user$result.name) && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: '70%'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          gutterBottom: true,\n          variant: 'h6',\n          children: \"Write a comment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          rows: 4,\n          variant: 'outlined',\n          label: 'comment',\n          multiline: true,\n          value: comment,\n          onChange: e => setComment(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          style: {\n            marginTop: '10px'\n          },\n          fullWidth: true,\n          disabled: !comment,\n          variant: 'contained',\n          onClick: handleClick,\n          color: 'primary',\n          children: \"Comment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 22\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 19,\n    columnNumber: 9\n  }, this);\n};\n\n_s(CommentSection, \"P408T2et+lpUrv6KERnIoOXiQ0E=\", false, function () {\n  return [useDispatch];\n});\n\n_c = CommentSection;\nexport default CommentSection;\n\nvar _c;\n\n$RefreshReg$(_c, \"CommentSection\");","map":{"version":3,"sources":["D:/web/Pet_Memories/client/my-app/src/components/PostDetails/CommentSection.jsx"],"names":["React","useState","useRef","Typography","TextField","Button","useDispatch","commentPost","CommentSection","post","user","JSON","parse","localStorage","getItem","dispatch","comments","setComments","comment","setComment","commentsRef","handleClick","finalComment","result","name","newComments","_id","current","scrollIntoView","display","justifyContent","height","overflowY","marginRight","map","index","width","e","target","value","marginTop"],"mappings":"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","sourcesContent":["import React , { useState, useRef } from \"react\";\r\nimport {Typography, TextField, Button} from \"@mui/material\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {commentPost} from '../../actions/posts'\r\nconst CommentSection = ({ post }) => {\r\n    const user = JSON.parse(localStorage.getItem('profile'));\r\n    const dispatch = useDispatch();\r\n    const [comments,setComments] = useState(post?.comments);\r\n    const [comment,setComment] = useState('');\r\n    const commentsRef = useRef();\r\n    const handleClick = async () => {\r\n        const finalComment = `${user.result.name}: ${comment}`;\r\n        const newComments = await dispatch(commentPost(finalComment,post._id));\r\n        setComments(newComments);\r\n        setComment('');\r\n        commentsRef.current.scrollIntoView()\r\n    }\r\n    return(\r\n        <div>\r\n            <div style={{\r\n                display: 'flex',\r\n                justifyContent: 'space-between',\r\n            }}>\r\n                <div style={{\r\n                    height: '200px',\r\n                    overflowY: 'auto',\r\n                    marginRight: '30px'\r\n                }}>\r\n                    <Typography gutterBottom variant={'h6'}>\r\n                        comments\r\n                    </Typography>\r\n                    {comments.map((comment,index) =>(\r\n                        <Typography key={index} gutterBottom variant={'subtitle1'}>\r\n                            {comment}\r\n                        </Typography>\r\n                    ))}\r\n                    <div ref={commentsRef} />\r\n                </div>\r\n                {\r\n                    user?.result?.name &&\r\n                    (<div style={{\r\n                        width: '70%'\r\n                    }}>\r\n                        <Typography gutterBottom variant={'h6'}>\r\n                            Write a comment\r\n                        </Typography>\r\n                        <TextField\r\n                            fullWidth\r\n                            rows={4}\r\n                            variant={'outlined'}\r\n                            label={'comment'}\r\n                            multiline\r\n                            value={comment}\r\n                            onChange={(e) => setComment(e.target.value)}\r\n                        />\r\n                        <Button style={{marginTop:'10px'}} fullWidth disabled={!comment} variant={'contained'} onClick={handleClick} color={'primary'}>\r\n                            Comment\r\n                        </Button>\r\n                    </div>)\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default CommentSection;\r\n\r\n"]},"metadata":{},"sourceType":"module"}